# md2nexus

`md2nexus` is a command-line executable tool that converts [GitHub-flavored Markdown](https://github.github.com/gfm/) files into bbcode source suitable for use in NexusMods mod documentation pages. It is [open-source](https://github.com/ceejbot/md2nexus) and has builds available for MacOS and Linux in addition to the Windows executable available here on the Nexus. See the GitHub repo for downloads for the latest release, and install instructions for non-Windows platforms.

I wrote it because the idea of writing documentation for mods in Nexus's bbcode made me want to hurl myself into the sun. Like many nerds, I voluntarily write in Markdown and use it daily to document code, so writing mod documentation in Markdown is a natural choice.

## Basic usage

Converting a single file: `md2nexus -i input.md -o output.md`.

Converting an entire directory of files: `mdnexus -i docs -o docs-for-nexus`. Each Markdown file found in the input directory is written to a file of the same name with the extension `.bbcode` in the output directory. E.g., `docs/contents.md` becomes `docs-for-nexus/contents.bbcode`. The output directory is recursively created if it does not exist.

If no input option is provided, `md2nexus` reads input from stdin. If it's operating on a single file and no output option is provided, it writes to stdout. This is my preferred way to handle single files. For example, as a MacOS user, to post this very mod info page I ran it like this: `cat docs/nexus-readme.md | md2nexus | pbcopy`. Then I pasted the clipboard contents into the Nexus's edit window.

For more usage information run `mdnexus --help`.

## Supported markups

Most of GFM is supported reasonably, though the lack of in-document fragment links means footnotes aren't great.

| markup         | nexus support                              |
|:---------------|:-------------------------------------------|
| *              | italics                                    |
| _              | bold                                       |
| ~              | strikethrough                              |
| inline code    | wrapped in font=Courier                    |
| links          | titles not supported                       |
| images         | sizes, alt text thrown away                |
| #header        | font size 5                                |
| code fences    | code block; language hints not supported   |
| lists          | ordered, unordered, nested lists supported |
| [^ident]       | rendered as "(See ^ident)"                 |
| [^ident]: text | all footnotes rendered at document end     |
| link refs      | similar to footnotes                       |
| tables         | requires some tweaking of spaces           |

Tables might require some fiddling with spaces because the Nexus editor seems to replace spaces with tabs when rendering. See previous statement about the heart of the sun.

## Permissions and credits

This is a Rust project. [Source is available on GitHub](https://github.com/ceejbot/md2nexus) under the [GPL-3.0 license](https://opensource.org/license/gpl-3-0/). The heavy lifting is done by the [AST](https://en.wikipedia.org/wiki/Abstract_syntax_tree) generated by the parser in the [markdown crate](https://lib.rs/crates/markdown).

Note the permissions and restrictions granted by the GPL version 3! You are welcome to fork and change this tool, so long as you release source code for whatever you do.

Please file bugs using the bug tool on the repo. Patches cheerfully accepted. The Rust is a bit of a fast hack job, but I think it's still approachable.
